<template>
    <div class="custom-form">
      <ElSelect
        v-model="child"
        class="custom-form__full-width"
        type="textarea"
        placeholder="Выберите ребёнка"
      >
        <ElOption
          v-for="person in persons"
          :key="person.id"
          :label="person.name"
          :value="person.id"
        />
      </ElSelect>
    </div>
  </template>
  
  <script>
  export default {
    name: 'ChildForm',
    model: {
      prop: 'value',
      event: 'change'
    },
    props: {
      value: {
        type: Object,
        required: true
      },
      persons: {
        type: Array,
        required: true
      }
    },
    computed: {
      child: {
        get () {
          return this.value.child
        },
        set (value) {
          this.emitFormData({ child: value })
        }
      }
    },
    methods: {
      emitFormData (param) {
        this.$emit('change', {
          ...this.value,
          ...param
        })
      }
    }
  }
  </script>
  
  <style>
  </style>
  